/* Grid
========================================================================== */

@mixin grid(
  $columns: auto,
  // grid-template-columns
  $rows: auto,
  // grid-template-rows
  $gap: 0,
  // grid-gap
  $justifyItems: 'stretch',
  // stretch | start | center | end
  $alignItems: 'stretch',
  // stretch | start | center | end
  $justifyContent: null,
  // optional: space-between | space-around | center | start | end
  $alignContent: null // optional: stretch | center | start | end | space-between | space-around
) {
  display: grid;

  grid-template-columns: $columns;
  grid-template-rows: $rows;
  gap: $gap;

  // Justify Items
  $justify-map: (
    start: start,
    center: center,
    end: end,
    stretch: stretch,
  );
  justify-items: if(
    map-has-key($justify-map, $justifyItems),
    map-get($justify-map, $justifyItems),
    stretch
  );

  // Align Items
  $align-map: (
    start: start,
    center: center,
    end: end,
    stretch: stretch,
  );
  align-items: if(
    map-has-key($align-map, $alignItems),
    map-get($align-map, $alignItems),
    stretch
  );

  // Justify Content (optional)
  @if $justifyContent != null {
    $justify-content-map: (
      start: start,
      center: center,
      end: end,
      between: space-between,
      around: space-around,
    );
    justify-content: if(
      map-has-key($justify-content-map, $justifyContent),
      map-get($justify-content-map, $justifyContent),
      stretch
    );
  }

  // Align Content (optional)
  @if $alignContent != null {
    $align-content-map: (
      start: start,
      center: center,
      end: end,
      between: space-between,
      around: space-around,
      stretch: stretch,
    );
    align-content: if(
      map-has-key($align-content-map, $alignContent),
      map-get($align-content-map, $alignContent),
      stretch
    );
  }

  // 내부 커스텀 스타일
  @content;
}

// --------------------------------------------------
// grid presets
// --------------------------------------------------

@mixin grid-center($gap: 0) {
  @include grid(auto, auto, $gap, 'center', 'center');
}

@mixin grid-auto($columns: repeat(auto-fill, minmax(200px, 1fr)), $gap: 16px) {
  @include grid($columns, auto, $gap);
}

// --------------------------------------------------
// 예시
// --------------------------------------------------
// 기본 사용
// @include grid(repeat(3, 1fr), auto, 24px, 'center', 'start');

// 내부 커스텀 스타일 포함
// @include grid(repeat(4, 1fr), auto, 16px) {
//   background-color: #f9f9f9;
//   padding: 12px;
// }

// 자동 반응형 grid
// @include grid-auto(repeat(auto-fit, minmax(250px, 1fr)), 20px);
